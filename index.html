<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8" />
<title>Ù…Ø­ÙˆÙ‘Ù„ Ø§Ù„Ù„ØºØ© Ø§Ù„Ø³Ø±ÙŠØ©</title>
<style>
  body { font-family: Arial, sans-serif; direction: rtl; padding: 20px; text-align: center; background:#f7f9fb; }
  .wrap { display:flex; gap:20px; justify-content:center; align-items:flex-start; flex-wrap:wrap; }
  .col { width:420px; }
  textarea { width:100%; height:200px; padding:10px; font-size:16px; box-sizing:border-box; }
  button { padding:10px 14px; margin:8px; cursor:pointer; font-size:15px; }
  .hint { color:#666; font-size:14px; margin-bottom:10px; }
</style>
</head>
<body>
  <h1>ğŸ” Ù…Ø­ÙˆÙ‘Ù„ Ø§Ù„Ù„ØºØ© Ø§Ù„Ø³Ø±ÙŠØ© (ÙØ±Ù†Ø³ÙŠ â‡„ Ø¹Ø±Ø¨ÙŠ)</h1>
  <p class="hint">Ø§ÙƒØªØ¨ Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ÙÙŠ Ø§Ù„Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø£ÙŠÙ…Ù† Ø£Ùˆ Ø§ÙƒØªØ¨ Ø¨Ø§Ù„Ø³Ø±ÙŠØ© (latin) ÙÙŠ Ø§Ù„Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø£ÙŠØ³Ø± â€” ÙŠØªØ­ÙˆÙ‘Ù„ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§. Ø§Ø³ØªØ®Ø¯Ù… Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù†Ø³Ø®.</p>

  <div class="wrap">
    <div class="col">
      <h3>Ø§Ù„Ø³Ø±ÙŠØ© (Ù„Ø§ØªÙŠÙ†ÙŠ - LTR)</h3>
      <textarea id="secret" placeholder="Ø§ÙƒØªØ¨ Ù‡Ù†Ø§ Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø³Ø±ÙŠØ© (Ù…Ø«Ø§Ù„: kul)" dir="ltr"></textarea>
      <br>
      <button onclick="copyField('secret')">ğŸ“‹ Ù†Ø³Ø® Ø§Ù„Ù†Øµ Ø§Ù„Ø³Ø±ÙŠ</button>
    </div>

    <div class="col">
      <h3>Ø§Ù„Ù†Øµ Ø§Ù„Ø¹Ø±Ø¨ÙŠ (RTL)</h3>
      <textarea id="arabic" placeholder="Ø§ÙƒØªØ¨ Ù‡Ù†Ø§ Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© (Ù…Ø«Ø§Ù„: Ù†Ø¹Ù…)" dir="rtl"></textarea>
      <br>
      <button onclick="copyField('arabic')">ğŸ“‹ Ù†Ø³Ø® Ø§Ù„Ù†Øµ Ø§Ù„Ø¹Ø±Ø¨ÙŠ</button>
    </div>
  </div>

<script>
/* Ø®Ø±ÙŠØ·Ø© Ù…Ù† Ø­Ø±Ù Ù„Ø§ØªÙŠÙ†ÙŠ -> Ø­Ø±Ù Ø¹Ø±Ø¨ÙŠ (ÙƒÙŠØ¨ÙˆØ±Ø¯ ÙØ±Ù†Ø³ÙŠ AZERTY) */
const secretToArabic = {
  'a':'Ø¶','z':'Øµ','e':'Ø«','r':'Ù‚','t':'Ù','y':'Øº','u':'Ø¹','i':'Ù‡','o':'Ø®','p':'Ø­',
  'q':'Ø´','s':'Ø³','d':'ÙŠ','f':'Ø¨','g':'Ù„','h':'Ø§','j':'Øª','k':'Ù†','l':'Ù…','m':'Ùƒ',
  ';':'Ùˆ', ':':'Ø²', '$':'Ø¯', '^':'Ø¬', '*':'Ø°', 'Ã¹':'Ø·', 'w':'Ø¦', 'x':'Ø¡', 'c':'Ø¤',
  'v':'Ø±', 'n':'Ù‰', ',':'Ø©'
};

/* Ø¹ÙƒØ³ Ø§Ù„Ø®Ø±ÙŠØ·Ø©: Ø¹Ø±Ø¨ÙŠ -> Ø³Ø±ÙŠ */
function invertMap(map){
  const inv = {};
  for (const k in map) inv[map[k]] = k;
  return inv;
}
const arabicToSecret = invertMap(secretToArabic);

/* Ù†Ø·Ø¨Ø¹ Ø¨Ø¹Ø¶ Ø£Ø´ÙƒØ§Ù„ Ø§Ù„Ø£Ù„Ù ÙˆØ§Ù„Ù‡Ù…Ø²Ø© Ù„ØªÙˆØ­ÙŠØ¯Ù‡Ø§ */
function normalizeArabic(text){
  return text.replace(/[Ø£Ø¥Ø¢]/g, 'Ø§').replace(/Ø©/g, 'Ø©'); // Ù†Ø­ØªÙØ¸ Ø¨Ù€ Ø© ÙƒÙ…Ø§ Ù‡ÙŠ (ØªÙØ­ÙˆÙ‘Ù„ Ù„Ùˆ ÙˆØ¬Ø¯Øª)
}

/* ØªØ­ÙˆÙŠÙ„ Ù…Ù† Ø³Ø±ÙŠ -> Ø¹Ø±Ø¨ÙŠ */
function translateSecretToArabic(text){
  let out = '';
  for (let ch of text) {
    out += (secretToArabic[ch] !== undefined) ? secretToArabic[ch] : ch;
  }
  return out;
}

/* ØªØ­ÙˆÙŠÙ„ Ù…Ù† Ø¹Ø±Ø¨ÙŠ -> Ø³Ø±ÙŠ (Ø¨Ø¹Ø¯ ØªØ·Ø¨ÙŠØ¹ Ø§Ù„Ø­Ø±ÙˆÙ) */
function translateArabicToSecret(text){
  text = normalizeArabic(text);
  let out = '';
  for (let ch of text) {
    out += (arabicToSecret[ch] !== undefined) ? arabicToSecret[ch] : ch;
  }
  return out;
}

/* Ù…Ù†Ø¹ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙƒØ±Ø§Ø±ÙŠ */
let isUpdating = false;
const arabicEl = document.getElementById('arabic');
const secretEl = document.getElementById('secret');

arabicEl.addEventListener('input', () => {
  if (isUpdating) return;
  isUpdating = true;
  secretEl.value = translateArabicToSecret(arabicEl.value);
  isUpdating = false;
});

secretEl.addEventListener('input', () => {
  if (isUpdating) return;
  isUpdating = true;
  arabicEl.value = translateSecretToArabic(secretEl.value);
  isUpdating = false;
});

function copyField(id){
  const el = document.getElementById(id);
  el.select();
  navigator.clipboard.writeText(el.value).then(()=> alert('âœ… ØªÙ… Ø§Ù„Ù†Ø³Ø®'));
}
</script>
</body>
</html>
